:root{--bg-primary: #0f172a;--bg-secondary: #1e293b;--bg-tertiary: #334155;--bg-glass: rgba(30, 41, 59, .8);--text-primary: #f8fafc;--text-secondary: #94a3b8;--text-muted: #64748b;--accent-primary: #6366f1;--accent-primary-hover: #818cf8;--accent-secondary: #06b6d4;--accent-success: #10b981;--accent-warning: #f59e0b;--accent-error: #ef4444;--border-color: rgba(148, 163, 184, .15);--shadow-lg: 0 10px 40px rgba(0, 0, 0, .4);--shadow-glow: 0 0 20px rgba(99, 102, 241, .3);--font-sans: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;--font-mono: "JetBrains Mono", "Fira Code", monospace;--spacing-xs: .25rem;--spacing-sm: .5rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--radius-sm: 6px;--radius-md: 10px;--radius-lg: 16px;--radius-full: 9999px;--transition-fast: .15s ease;--transition-normal: .25s ease;--transition-slow: .4s ease}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;overflow:hidden}body{font-family:var(--font-sans);background:var(--bg-primary);color:var(--text-primary);line-height:1.6}#app{display:flex;flex-direction:column;height:100vh}.header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md) var(--spacing-xl);background:var(--bg-glass);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-color);z-index:100}.logo{display:flex;align-items:center;gap:var(--spacing-md)}.logo-icon{width:36px;height:36px;color:var(--accent-primary);animation:pulse 2s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.logo h1{font-size:1.4rem;font-weight:600;background:linear-gradient(135deg,var(--accent-primary),var(--accent-secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.main-content{display:flex;flex:1;overflow:hidden}.input-panel{width:380px;min-width:350px;display:flex;flex-direction:column;gap:var(--spacing-lg);padding:var(--spacing-lg);background:var(--bg-secondary);border-right:1px solid var(--border-color);overflow-y:auto}.panel-section{display:flex;flex-direction:column;gap:var(--spacing-sm)}.section-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--spacing-xs)}.section-header h2{font-size:.875rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--text-secondary)}.textarea-wrapper{position:relative}textarea{width:100%;min-height:180px;padding:var(--spacing-md);font-family:var(--font-mono);font-size:.9rem;line-height:1.6;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--text-primary);resize:vertical;transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}textarea:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #6366f126}textarea::placeholder{color:var(--text-muted)}input[type=text]{width:100%;padding:var(--spacing-md);font-family:var(--font-mono);font-size:1rem;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:var(--radius-md);color:var(--text-primary);transition:border-color var(--transition-fast),box-shadow var(--transition-fast)}input[type=text]:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #6366f126}input[type=text]::placeholder{color:var(--text-muted)}.token-display{display:flex;flex-wrap:wrap;gap:var(--spacing-xs);min-height:32px;margin-top:var(--spacing-sm)}.token{display:inline-flex;align-items:center;padding:2px 8px;font-family:var(--font-mono);font-size:.75rem;background:var(--bg-tertiary);border-radius:var(--radius-sm);border:1px solid var(--border-color)}.token.number{border-color:var(--accent-success);color:var(--accent-success)}.token.operator{border-color:var(--accent-warning);color:var(--accent-warning)}.token.paren{border-color:var(--accent-secondary);color:var(--accent-secondary)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);font-family:var(--font-sans);font-size:.875rem;font-weight:500;border:none;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast)}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:linear-gradient(135deg,var(--accent-primary),#4f46e5);color:#fff;box-shadow:0 4px 14px #6366f159}.btn-primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #6366f173}.btn-accent{background:linear-gradient(135deg,var(--accent-secondary),#0891b2);color:#fff;box-shadow:0 4px 14px #06b6d459}.btn-accent:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #06b6d473}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover:not(:disabled){background:rgba(148,163,184,.15)}.btn-ghost{background:transparent;color:var(--text-secondary)}.btn-ghost:hover:not(:disabled){background:rgba(148,163,184,.1);color:var(--text-primary)}.btn-icon{padding:var(--spacing-sm);background:var(--bg-tertiary);color:var(--text-secondary);border:1px solid var(--border-color)}.btn-icon:hover:not(:disabled){background:rgba(148,163,184,.15);color:var(--text-primary)}.btn-sm{padding:6px 12px;font-size:.8rem}.btn-lg{padding:14px 24px;font-size:1rem}.action-buttons{display:flex;gap:var(--spacing-md)}.action-buttons .btn{flex:1}.step-controls{display:flex;flex-direction:column;gap:var(--spacing-md);padding:var(--spacing-md);background:var(--bg-primary);border-radius:var(--radius-md);border:1px solid var(--border-color)}.step-controls.hidden{display:none}.step-info{display:flex;flex-direction:column;gap:var(--spacing-xs)}.step-info #stepCounter{font-weight:600;color:var(--accent-primary)}.step-info #stepDescription{font-size:.875rem;color:var(--text-secondary)}.step-buttons{display:flex;gap:var(--spacing-sm);flex-wrap:wrap}.speed-control{display:flex;align-items:center;gap:var(--spacing-sm);font-size:.8rem;color:var(--text-secondary)}.speed-control input[type=range]{flex:1;height:4px;background:var(--bg-tertiary);border-radius:var(--radius-full);appearance:none}.speed-control input[type=range]::-webkit-slider-thumb{appearance:none;width:14px;height:14px;background:var(--accent-primary);border-radius:50%;cursor:pointer}.status-message{font-size:.8rem;min-height:20px}.status-message.success{color:var(--accent-success)}.status-message.error{color:var(--accent-error)}.status-message.warning{color:var(--accent-warning)}.visualization-panel{flex:1;display:flex;flex-direction:column;background:var(--bg-primary);overflow:hidden}.panel-header{display:flex;align-items:center;justify-content:space-between;padding:var(--spacing-md) var(--spacing-lg);background:var(--bg-secondary);border-bottom:1px solid var(--border-color)}.panel-header h2{font-size:1rem;font-weight:600;color:var(--text-primary)}.zoom-controls{display:flex;gap:var(--spacing-xs)}.tree-container{flex:1;position:relative;overflow:hidden;background:radial-gradient(circle at center,var(--bg-secondary) 0%,var(--bg-primary) 100%)}.tree-container .empty-state{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:var(--text-muted)}.tree-container .empty-state p{margin-top:var(--spacing-md);font-size:.9rem}.tree-container .empty-state strong{color:var(--accent-primary)}#treeSvg{width:100%;height:100%}.node circle{fill:var(--bg-secondary);stroke:var(--accent-primary);stroke-width:2px;transition:all var(--transition-normal)}.node circle.terminal{fill:var(--accent-secondary);stroke:var(--accent-secondary)}.node circle.new{animation:nodeAppear .5s ease-out}@keyframes nodeAppear{0%{transform:scale(0);opacity:0}50%{transform:scale(1.3)}to{transform:scale(1);opacity:1}}.node text{font-family:var(--font-mono);font-size:12px;fill:var(--text-primary);text-anchor:middle;dominant-baseline:central;pointer-events:none}.node text.terminal{fill:#fff}.link{fill:none;stroke:var(--border-color);stroke-width:2px;stroke-opacity:.6}.link.new{animation:linkAppear .4s ease-out}@keyframes linkAppear{0%{stroke-opacity:0;stroke-dasharray:100;stroke-dashoffset:100}to{stroke-opacity:.6;stroke-dasharray:100;stroke-dashoffset:0}}.error-display{padding:var(--spacing-md) var(--spacing-lg);background:rgba(239,68,68,.15);border-top:1px solid var(--accent-error);color:var(--accent-error);font-size:.9rem}.error-display.hidden{display:none}.modal{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1000;display:flex;align-items:center;justify-content:center}.modal.hidden{display:none}.modal-backdrop{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);backdrop-filter:blur(4px)}.modal-content{position:relative;max-width:600px;max-height:80vh;padding:var(--spacing-xl);background:var(--bg-secondary);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);overflow-y:auto}.modal-close{position:absolute;top:var(--spacing-md);right:var(--spacing-md);width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border:none;border-radius:var(--radius-sm);color:var(--text-secondary);font-size:1.5rem;cursor:pointer;transition:all var(--transition-fast)}.modal-close:hover{background:rgba(148,163,184,.2);color:var(--text-primary)}.modal-content h2{margin-bottom:var(--spacing-lg);font-size:1.25rem;color:var(--text-primary)}.help-content h3{margin-top:var(--spacing-lg);margin-bottom:var(--spacing-sm);font-size:1rem;color:var(--accent-primary)}.help-content p,.help-content ul,.help-content li{font-size:.9rem;color:var(--text-secondary);line-height:1.7}.help-content ul{padding-left:var(--spacing-lg)}.help-content li{margin-bottom:var(--spacing-xs)}.help-content pre{padding:var(--spacing-md);background:var(--bg-primary);border-radius:var(--radius-md);font-family:var(--font-mono);font-size:.85rem;color:var(--accent-secondary);overflow-x:auto}.help-content code{padding:2px 6px;background:var(--bg-tertiary);border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:.85rem;color:var(--accent-warning)}.hidden{display:none!important}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg-primary)}::-webkit-scrollbar-thumb{background:var(--bg-tertiary);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:rgba(148,163,184,.3)}
